<header class="side-header expand-header">
        <div class="nav-head">Main Navigation
            <span class="menu-trigger">
                <i class="ion-android-menu"></i>
            </span>
        </div>
        <nav class="custom-scrollbar">
            <!--<ul class="drp-sec">-->
            <!--    <li class="has-drp">-->
            <!--        <a href="#" title="">-->
            <!--            <i class="ion-home"></i>-->
            <!--            <span>Dashboard</span>-->
            <!--        </a>-->
            <!--        <ul class="sb-drp">-->
            <!--            <li>-->
            <!--                <a href="dashboard.html" title="">Dashboard 1</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="dashboard2.html" title="">Dashboard 2</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="dashboard3.html" title="">Dashboard 3</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="dashboard4.html" title="">Background Header</a>-->
            <!--            </li>-->
            <!--        </ul>-->
            <!--    </li>-->
            <!--</ul>-->
            <h4>Easymoji</h4>
            <ul class="drp-sec">
                <!--<li class="has-drp">-->
                <!--    <a href="#" title="">-->
                <!--        <i class="ion-briefcase"></i>-->
                <!--        <span>UI Elements</span>-->
                <!--    </a>-->
                <!--    <ul class="sb-drp">-->
                <!--        <li>-->
                <!--            <a href="pricing-plan.html" title="">Pricing Plan</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="grids.html" title="">Grids</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="calendar.html" title="">Calendar</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="pagination.html" title="">Pagination</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="buttons.html" title="">Button Styles</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="dropdowns.html" title="">Dropdown Styles</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="tabs&accordians.html" title="">Tabs & Accordians</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="progressbars.html" title="">Progress Bars</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="tooltips.html" title="">Tooltips</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="popovers.html" title="">Popovers</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="alerts.html" title="">Alerts</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="list-group.html" title="">List Group</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="models.html" title="">Models</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="loaders.html" title="">CSS Loaders</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="cards.html" title="">Cards</a>-->
                <!--        </li>-->
                <!--        <li>-->
                <!--            <a href="range-slider.html" title="">Range Slider</a>-->
                <!--        </li>-->
                <!--    </ul>-->
                <!--</li>-->
                <li>
                    <%= link_to root_path do %>
                        <i class="fa fa-home"></i>
                        <span>HOME</span>
                    <% end %>
                </li>
                <li class="has-drp">
                    <a href="#" title="">
                        <i class="ion-images"></i>
                        <span>Gallery Styles</span>
                    </a>
                    <ul class="sb-drp">
                        <!--<li>-->
                        <!--    <a href="gallery1.html" title="">Gallery Style 1</a>-->
                        <!--</li>-->
                        <!--<li>-->
                        <!--    <a href="gallery2.html" title="">Gallery Style 2</a>-->
                        <!--</li>-->
                    <% if user_signed_in? %>
                        <% if @galleries[0].nil? %>
                        <li>
                            <p>--- 갤러리를 추가하세요 ---</p>
                        </li>
                        <% else %>
                            <% @galleries.each do |gallery| %>
                            <li id="<%= gallery.id %>" style="padding-right: 30px">
                                
                                    
                                    <a id="gallery_<%= gallery.id %>" style="width: 60px" href="<%= gallery_path(gallery) %>"><%= gallery.title %></a>
                                    
                                    <div class="d-flex justify-content-end">
                                        <button type="submit" id="button_<%= gallery.id %>" class="title_edit_pencil" style="background-color:transparent;">
                                            <i class="fa fa-pencil" style="color: white"></i>
                                        </button>
                                        <%= link_to gallery_path(gallery), method: "delete", data: { confirm: "정말로 삭제하시겠습니까? 삭제시 복구할 수 없습니다."}, remote: true do %>
                                            <i class="fa fa-window-close"></i>
                                        <% end %>
                                    </div>
                                
                            </li>
                            <% end %>
                        <% end %>
                        <li>
                            <%= link_to "갤러리 추가하기", new_gallery_path, id: "new_gallery", remote: true%>
                            
                            
                        </li>
                    <% else %>
                        <li>
                            <p>--- 로그인이 필요합니다 ---</p>
                        </li>
                        <li>
                            <a href="#" id="new_gallery" title="">갤러리 추가하기</a>
                        </li>
                    <% end %>
                    
                    </ul>
                </li>
                <li>
                    <a href="#" title="">
                        <i class="fa fa-user-circle"></i>
                        <span>MyPage</span>
                    </a>
                </li>
                <!--<li>-->
                <!--    <a href="tables.html" title="">-->
                <!--        <i class="ion-crop"></i> Tables</a>-->
                <!--</li>-->
                <!--<li>-->
                <!--    <a href="charts.html" title="">-->
                <!--        <i class="ion-podium"></i> Charts</a>-->
                <!--</li>-->
            </ul>
            <!--<ul class="drp-sec">-->
            <!--    <li class="has-drp">-->
            <!--        <a href="#" title="">-->
            <!--            <i class="ion-android-clipboard"></i>-->
            <!--            <span>General</span>-->
            <!--        </a>-->
            <!--        <ul class="sb-drp">-->
            <!--            <li>-->
            <!--                <a href="404.html" title="">404</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="505.html" title="">505</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="contact.html" title="">Contact Us</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="coming-soon.html" title="">Coming Soon</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="under-maintenance.html" title="">User Maintenance</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="login.html" title="">Login</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="register.html" title="">Register</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="search-result.html" title="">Search Result</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="faq.html" title="">Faq's</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="services.html" title="">Services</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="invoice.html" title="">Invoice Page</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="typography.html" title="">Typography</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="live-chat.html" title="">Live Chat</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="timeline.html" title="">Timeline</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="cropbox.html" title="">Cropbox</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="calculator.html" title="">Calculator</a>-->
            <!--            </li>-->
            <!--        </ul>-->
            <!--    </li>-->
            <!--    <li class="has-drp">-->
            <!--        <a href="#" title="">-->
            <!--            <i class="ion-android-contact"></i>-->
            <!--            <span>User</span>-->
            <!--        </a>-->
            <!--        <ul class="sb-drp">-->
            <!--            <li>-->
            <!--                <a href="profile.html" title="">Profile Page</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="profile-edit.html" title="">Profile Edit</a>-->
            <!--            </li>-->
            <!--        </ul>-->
            <!--    </li>-->
            <!--    <li class="has-drp">-->
            <!--        <a href="#" title="">-->
            <!--            <i class="ion-bag"></i>-->
            <!--            <span>eCommerce</span>-->
            <!--        </a>-->
            <!--        <ul class="sb-drp">-->
            <!--            <li>-->
            <!--                <a href="products.html" title="">Products</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="product-details.html" title="">Product Details</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="checkout.html" title="">Checkout</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="order-received.html" title="">Order Received</a>-->
            <!--            </li>-->
            <!--        </ul>-->
            <!--    </li>-->
            <!--    <li class="has-drp">-->
            <!--        <a href="#" title="">-->
            <!--            <i class="ion-android-map"></i>-->
            <!--            <span>Maps</span>-->
            <!--        </a>-->
            <!--        <ul class="sb-drp">-->
            <!--            <li>-->
            <!--                <a href="google-map.html" title="">Google Map</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="vector-map.html" title="">Vector map</a>-->
            <!--            </li>-->
            <!--        </ul>-->
            <!--    </li>-->
            <!--    <li class="has-drp">-->
            <!--        <a href="#" title="">-->
            <!--            <i class="ion-email"></i>-->
            <!--            <span>Email's</span>-->
            <!--        </a>-->
            <!--        <ul class="sb-drp">-->
            <!--            <li>-->
            <!--                <a href="email-composer.html" title="">Email Compose</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="inbox.html" title="">Inbox</a>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--                <a href="email.html" title="">Email</a>-->
            <!--            </li>-->
            <!--        </ul>-->
            <!--    </li>-->
            <!--</ul>-->
        </nav>
</header>
    <!-- Side Header -->
    <div id="whereModalPlaced">
    </div>

    
    <% content_for 'javascript_content' do %>
    <script>
        $(document).ready(function(){
           
            $(document).on('click', '.title_edit_pencil', function(){
                if($('.title_edit_input').length > 0){
                    alert("한 번에 하나만 변경할 수 있습니다.");
                    return false;
                }
                var a_tag =$(this).parent().parent().children().first();
                var a_tag_val = a_tag.text();
                var div_sibling = a_tag.siblings();
                
                a_tag.remove()
                
                div_sibling.prepend(`
                <input type="text" value="${a_tag_val}" class="title_edit_input text-white" style="background-color:transparent; width:50px"> `);
                
                $(this).removeClass("title_edit_pencil").addClass("title_edit_check");
                $(this).children().removeClass("fa-pencil").addClass("fa-check");
                // console.log("done");
            });
            

            $(document).on('click', '.title_edit_check', function(){
               var gallery_id = parseInt($(this).parent().parent().attr('id'));

               console.log(gallery_id);
               var input_tag = $('.title_edit_check').parent().children().first();
               var input_tag_val = input_tag.val();
               console.log(input_tag_val);
               
               
               $.ajax({
                   url: "/galleries/" + gallery_id,
                   method: 'patch',
                   data: {
                       id: gallery_id,
                       title: input_tag_val
                    }
                });
            });
            
        });
        
    </script>
    <% end %>